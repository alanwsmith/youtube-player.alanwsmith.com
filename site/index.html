<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png" />
    <link rel="manifest" href="/favicons/site.webmanifest" />
    <link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#5bbad5" />
    <link rel="shortcut icon" href="/favicons/favicon.ico" />
    <meta name="msapplication-TileColor" content="#da532c" />
    <meta name="msapplication-config" content="/favicons/browserconfig.xml" />
    <meta name="theme-color" content="#000000" />

    <title>Alan's YouTube Player Web Component</title>
    <meta property="og:site_name" content="youtube-player.alanwsmith.com" />
    <meta property="og:title" content="Alan's YouTube Player Web Component" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://youtube-player.alanwsmith.com/" />
    <meta property="og:image" content="https://youtube-player.alanwsmith.com/images/og-image.jpg" />
    <meta property="og:description" content="My YouTube player web component" />
    <meta name="description" content="My YouTube player web component" />
    <link rel="stylesheet" href="/styles/main.css" />
    <script type="module" src="/scripts/youtube-player-v1.js"></script>
    <link rel="stylesheet" href="/styles/youtube-player-v1.css" />
  </head>
 
  <body>
    <header>
    </header>

    <main class="flow"> 
      <hgroup>
        <h1>Alan's YouTube Player Web Component</h1>
      </hgroup>

      <div class="warning flow">
        <h2>WORK-IN-PROGRESS</h2>
        <p>
          This component is still under development. 
          Some features are missing, there are 
          bugs, and the documentation is out of date.
          That said, it's working enough to give 
          you an idea of how it'll function when it's done.
        </p>
      </div>


      <h2>Examples</h2>

      <h3>Default Player</h3>
      <!-- David Bowie -->

      <youtube-player :video="LT3cERVRoQo">
        <noscript>No JavaScript available to load YouTube player</noscript>
      </youtube-player>

      <h3>Chapters</h3>
      <!-- Doechii -->
      <youtube-player :video="-91vymvIH0c" :chapters="18, 32, 84, 176, 276, 407, 577, 733, 1038, 1418">
        <noscript>No JavaScript available to load YouTube player</noscript>
      </youtube-player>

      <h3>Fallback Quality Thumbnails</h3>
      <!-- mmmmmm bop -->
      <!-- this one doesn't have a maxres thumbnail -->
      <youtube-player :video="fiShsfvbFUA">
        <noscript>No JavaScript available to load YouTube player</noscript>
      </youtube-player>

      <h3>Custom Thumbnails</h3>
      <!-- Rage Against The Machine -->
      <youtube-player :video="Rm1nCYOZB-s" :thumbnail="/images/rage-against-thumbnail.jpg">
        <noscript>No JavaScript available to load YouTube player</noscript>
      </youtube-player>

      <h3>Custom Start Time</h3>
      <!-- Kenzo World -->
      <youtube-player :video="NoMqvniiEkk" :start="54">
        <noscript>No JavaScript available to load YouTube player</noscript>
      </youtube-player>

      <h3>Custom End Time</h3>
      <!-- Somebody That I Used To Know -->
      <youtube-player :video="REPPgPcw4hk" :end="11">
        <noscript>No JavaScript available to load YouTube player</noscript>
      </youtube-player>

      <h3>Custom Title</h3>
      <youtube-player :video="K7xzmkpwNoA" :title="Little Simz - Gorilla">
        <noscript>No JavaScript available to load YouTube player</noscript>
      </youtube-player>

      <h3>Content Advisory</h3>
      <youtube-player :video="tRwHpyOq4P4" :ca="Warning: contains flashing lights">
        <noscript>No JavaScript available to load YouTube player</noscript>
      </youtube-player>
      
      <h3>Restarting From The Beginning</h3>
      <!-- Muppets -->
      <youtube-player :video="Cz8cbwR_6ms" :restart="on">
        <noscript>No JavaScript available to load YouTube player</noscript>
      </youtube-player>


      <h3>Custom Skip Times</h3>
      <youtube-player :video="dAwLMS8fgoA" :skip-forward="3" :skip-back="3">
        <noscript>No JavaScript available to load YouTube player</noscript>
      </youtube-player>

      <h2>Features</h2>

      <h3>Updating the &lt;body&gt; tag</h3>

      <!-- Victor Wooten
      <youtube-player :video="PHdo1qWNWI4" :chapters="55, 112, 202, 302, 357, 445, 480, 543, 626, 740, 788, 836, 869">
        <noscript>No JavaScript available to load YouTube player</noscript>
      </youtube-player>
-->

      <!-- Summer Girl 
      <youtube-player :video="yPQfcG-eimk" :restart="on">
        <noscript>No JavaScript available to load YouTube player</noscript>
      </youtube-player>
-->


      <!-- Star Wars - One Vision 
      <youtube-player :video="8bOtuoNFzB0" :title="One Star Wars Vision">
        <noscript>No JavaScript available to load YouTube player</noscript>
      </youtube-player>
-->


      <!-- Lawrence
      <youtube-player :video="JSkn4zaUh78" :start="10">
        <noscript>No JavaScript available to load YouTube player</noscript>
      </youtube-player>
-->


      <!-- BABYMETAL
EDnIEWyVIlE
-->


      <!-- Chicago 
      <youtube-player :video="z5EZNPUJYXc" :title="We Both Reached For The Gun from Chicago">
        <noscript>No JavaScript available to load YouTube player</noscript>
      </youtube-player>
-->


      <h2>Features And TODOs</h2>
      <div class="warning">
        NOTE: I don't keep this list up to date during development. 
        Somethings may have changed. They'll be made current once
        development is complete. 
      </div>

      <ul>
        <li>
          <p>
            Videos are embedded using a custom <code>youtube-player</code> element. It has
            one required <code>video</code> attribute which is the YouTube ID of the 
            video to play. For example:
          </p>
          <pre><code>&lt;youtube-player video="REPPgPcw4hk"&gt;
  &lt;noscript&gt;
    JavaScript is not available to load the video player
  &lt;/noscript&gt;
&lt;/youtube-player&gt;
          </pre></code>
        </li>
        <li>
          <p>
            An optional <code>start</code> attribute can be used to set
            start the video some number of seconds in. (It has to be full seconds,
            and may not be exactly what's used because of the way
            some video encoding works)
          </p>
        </li>
        <li>
          Provide a Play/Pause button
        </li>
        <li>
          Provide a Stop button
        </li>
        <li>
          Allow multiple videos on a single page
        </li>
        <li>
          Provide speed adjustment buttons
        </li>
        <li>
          Allow styling from via parent page's CSS
        </li>
        <li>
          Provide structure for responsive design 
        </li>
        <li>
          Provide a mute/unmute button
        </li>
        <li>
          Provide a data-state value for styling depending 
          on the state of the player (e.g. playing, paused, stopped)
        </li>
        <li>
          Show an image instead of the video to start with
        </li>
        <li>
          Provide a data-yt-state attribute to body element
          that can be used to adjust styling when videos are playing
          (e.g. dim the rest of the content). (Note: I'm punting
          on issues that will arise if there are multiple players
          on the page that you try to play at the same time)
        </li>
        <li>
          TODO: When stopped, allow an option to restart at the
          same place set via an attributes
        </li>
        <li>
          TODO: Save playhead location when stopping the player or reloading
          the page. 
        </li>
        <li>
          TODO: Set up the speed buttons so they start playing
          at the specific speed if the video isn't already going
        </li>
        <li>
          TODO: Provide skip forward and backwards buttons
        </li>
        <li>
          TODO: Fallback to lower res images if the best quality
          one fails (see note in reference from Paul Irish)
        </li>
        <li>
          TODO: Show the length of the vidoe
        </li>
        <li>
          TODO: Show the video's title
        </li>
        <li>
          TODO: Look at using :not(:defined) to hide
          the element but set its height 
          before it's fully loaded
        </li>
        <li>
          TODO: Add a spinner if to show loading for
          when the network is slow
        </li>
        <li>
          TODO: Set up so you can paste a full URL in
          and have it parse (so you don't have to pull
          the ID yourself)
        </li>
        <li>
          TODO: Make an error message if there's
          no video id available
        </li>
        <li>
          TODO: Figure out if you can figure out
          if a video won't play in a certain region
          and provide a fallback of some sort.
        </li>
        <li>
          TODO: Custom thumbnails
        </li>
        <li>
          TODO: Make chapter markers
        </li>
        <li>
          TODO: Don't show buttons until the video
          is loaded
        </li>
        <li>
          TODO: Sometimes the videos don't seem 
          to load on my phone. Not sure what's going
          on, but see if there's a way to check and
          restart after an interval (start with 
          investigation network traffic)
        </li>
        <li>
          TODO: Showing some type of loading message
          while the iframe is loading.
        </li>
        <li>
          TODO: Preload the video on network connections
          that can handle it
        </li>
        <li>
          TODO: Accept custom css to override variables
        </li>
      </ul>

      <h2>Someday/Maybe</h2>
      <ul>
        <li>
          PROBABLY: Set custom aspect ratio to avoid black bars
        </li>
        <li>
          PROBABLY: Use page metrics to figure out if the
          page loaded within a certain threshold and then
          preload the videos if it does.
        </li>
        <li>
          PROBABLY: Or, preload a video when it's in the
          view
        </li>
        <li>
          PROBABLY: when first launching the page the videos might
          be mutted. When the first one is unmutted send a signal to
          unmute the rest so you don't have to do that manually
          for each video
        </li>
        <li>
          MAYBE: Add ability to float the video player keeping
          it in frame.
        </li>
        <li>
          Or, maybe a button to drop it down into the 
          side of the page
        </li>
        <li>
          PROBABLY: Send focus to video player so keyboard commands work
        </li>
        <li>
          PROBABLY: If there are multiple videos on the page only one
          plays at a time (i.e. if one is playing and another one
          gets started it stops the first one).
        </li>
        <li>
          MAYBE: Support a fade-in/fade-out feature. Probably configurable. 
        </li>
        <li>
          MAYBE: Add volume slider
        </li>
        <li>
          MAYBE: Set up coordination to allow multiple videos
          to play at the same time without clobbering each other
          when updated the body level `data-youtube-player-state`
          attribute
        </li>
        <li>
          MAYBE: Allow other scripts on the page to control the player
          (this might already work, needs testing)
        </li>
        <li>
          MAYBE: Provide an autoplay attribute that attempts to 
          auto play the video
        </li>
      </ul>

      <h2>Notes</h2>
      <ul>
        <li>
          The playback rates available for each video are
          determined on the YouTube side. They are filtered
          down to include: 0.5x, 1x, 1.5x, 2x, and 3x. This ignores
          0.25x, 0.75x, 1.25x, and 1.75x. I'm making that trade off
          to reduce the number of items in the UI. I'm not
          sure if 3x rates exist. The numbers in the docs are generic
          and the test videos I've used don't have the rate. 
          TBD on that.
        </li>
        <li>
          I'd like to be able to add a closed caption button
          but I'm not sure how to do that yet or if it's even 
          possible through the api. TBD on that
        </li>
        <li>
          I'm not trying to optimize loading. The base functionality
          is provided directly by the YouTube API and default iFrame
        </li>
      </ul>

      <h2>Test Cases</h2>
      <pre>
- [] Start video from start

      - [] Fade video in 

      - [] Set body tag to playing

      - [] Fade out other videos

      - [] Play Video

- [] Start video from paused

      - [] Fade video in if necessary 
            (e.g. it wasn't active)

      - [] Set body tag to playing

      - [] Fade out other videos

      - Play Video

- [] Pause playing video 

      - [] Pause the video

      - [] Update body tag to paused

      - [] Fade in other videos
        
            - [] Unplayed videos

            - [] Pause videos






      </pre>
      

      <h2>References</h2>
      <ul>
        <li><a href="https://developers.google.com/youtube/iframe_api_reference">YouTube IFrame Player API Docs</a></li>
        <li><a href="https://github.com/paulirish/lite-youtube-embed">Paul Irish's Lite YouTube Embed</a></li>
        <li><a href="https://css-tricks.com/fluid-width-video/">Fluid Width Video from CSS Tricks</a></li>
        <li><a href="https://github.com/paulirish/lite-youtube-embed/blob/master/youtube-thumbnail-urls.md">Lo, the youtube placeholder image! from Paul Irish</a></li>
      </ul>
    </main>
    <footer>
      <div>
        made by <a href="https://www.alanwsmith.com">alan w smith</a>
      </div>
      <div>
        <a href="https://github.com/alanwsmith/youtube-player.alanwsmith.com">source code</a> ~
        <a href="https://links.alanwsmith.com">other sites</a> ~
        <a href="https://socials.alanwsmith.com">socials</a>
      </div>
    </footer>
  </body>
</html>
